{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Sarah\\\\PycharmProjects\\\\admoapi\\\\admoapireact2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Sarah\\\\PycharmProjects\\\\admoapi\\\\admoapireact2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Sarah\\\\PycharmProjects\\\\admoapi\\\\admoapireact2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Sarah\\\\PycharmProjects\\\\admoapi\\\\admoapireact2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Sarah\\\\PycharmProjects\\\\admoapi\\\\admoapireact2\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Sarah\\\\PycharmProjects\\\\admoapi\\\\admoapireact2\\\\src\\\\Home.js\";\nimport React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { videos, auth } from \"./actions/index\";\n\nvar SelectPlaylist =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SelectPlaylist, _Component);\n\n  function SelectPlaylist() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SelectPlaylist);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SelectPlaylist)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      dropdownPlaylists: [],\n      selectedPlaylist: \"\",\n      validationError: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(SelectPlaylist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://127.0.0.1:8000/api/playlists/\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var playlistsFromApi = data.map(function (dropdownPlaylist) {\n          return {\n            value: dropdownPlaylist.name,\n            display: dropdownPlaylist.name\n          };\n        });\n\n        _this2.setState({\n          dropdownPlaylists: [{\n            value: '',\n            display: '(Select the playlist)'\n          }].concat(playlistsFromApi)\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        value: this.state.selectedPlaylist,\n        onChange: function onChange(e) {\n          return _this3.setState({\n            selectedPlaylist: e.target.value,\n            validationError: e.target.value === \"\" ? \"You must select the playlist\" : \"\"\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, this.state.dropdownPlaylists.map(function (dropdownPlaylist) {\n        return React.createElement(\"option\", {\n          key: dropdownPlaylist.value,\n          value: dropdownPlaylist.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, dropdownPlaylist.display);\n      })), React.createElement(\"div\", {\n        style: {\n          color: 'red',\n          marginTop: '5px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, this.state.validationError));\n    }\n  }]);\n\n  return SelectPlaylist;\n}(Component);\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Home, _Component2);\n\n  function Home() {\n    var _getPrototypeOf3;\n\n    var _this4;\n\n    _classCallCheck(this, Home);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this4 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this4.state = {\n      name: \"\",\n      url: \"\",\n      playlist: \"\",\n      updateVideoId: null\n    };\n\n    _this4.resetForm = function () {\n      _this4.setState({\n        name: \"\",\n        url: \"\",\n        playlist: \"\",\n        updateVideoId: null\n      });\n    };\n\n    _this4.selectForEdit = function (id) {\n      var video = _this4.props.videos[id];\n\n      _this4.setState({\n        name: video.name,\n        url: video.url,\n        playlist: video.playlist,\n        updateVideoId: id\n      });\n    };\n\n    _this4.submitVideo = function (e) {\n      e.preventDefault();\n\n      if (_this4.state.updateVideoId === null) {\n        _this4.props.addVideo(_this4.state.name, _this4.state.url, _this4.state.playlist).then(_this4.resetForm);\n      } else {\n        _this4.props.updateVideo(_this4.state.updateVideoId, _this4.state.name, _this4.state.url, _this4.state.playlist).then(_this4.resetForm);\n      }\n    };\n\n    return _this4;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.fetchVideos();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Welcome to AdmoVisual\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Use the tabs above to navigate to the section you wish to use.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"In case of any issues, email us at help@admovisual.com.\"), React.createElement(\"div\", {\n        style: {\n          textAlign: \"right\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, this.props.user.username, \" \", React.createElement(\"a\", {\n        onClick: this.props.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"logout\")), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Add video\"), React.createElement(\"form\", {\n        onSubmit: this.submitVideo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: this.state.name,\n        placeholder: \"Enter name here...\",\n        onChange: function onChange(e) {\n          return _this5.setState({\n            name: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: this.state.url,\n        placeholder: \"Enter url here...\",\n        onChange: function onChange(e) {\n          return _this5.setState({\n            url: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        value: this.state.playlist,\n        placeholder: \"Enter playlist ID here...\",\n        onChange: function onChange(e) {\n          return _this5.setState({\n            playlist: e.target.value\n          });\n        },\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        value: this.state.value,\n        onChange: this.handleChange,\n        options: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.resetForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Reset\"), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Save Video\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Videos\"), React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.props.videos.map(function (video, id) {\n        return React.createElement(\"tr\", {\n          key: \"video_\".concat(video.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, video.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, video.url), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, video.playlist), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this5.selectForEdit(id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, \"edit\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this5.props.deleteVideo(id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, \"delete\")));\n      }))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    videos: state.videos,\n    user: state.auth.user\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchVideos: function fetchVideos() {\n      dispatch(videos.fetchVideos());\n    },\n    addVideo: function addVideo(name, url, playlist) {\n      return dispatch(videos.addVideo(name, url, playlist));\n    },\n    updateVideo: function updateVideo(id, name, url, playlist) {\n      return dispatch(videos.updateVideo(id, name, url, playlist));\n    },\n    deleteVideo: function deleteVideo(id) {\n      dispatch(videos.deleteVideo(id));\n    },\n    logout: function logout() {\n      return dispatch(auth.logout());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["C:\\Users\\Sarah\\PycharmProjects\\admoapi\\admoapireact2\\src\\Home.js"],"names":["React","Component","connect","videos","auth","SelectPlaylist","state","dropdownPlaylists","selectedPlaylist","validationError","fetch","then","response","json","data","playlistsFromApi","map","dropdownPlaylist","value","name","display","setState","concat","catch","error","console","log","e","target","color","marginTop","Home","url","playlist","updateVideoId","resetForm","selectForEdit","id","video","props","submitVideo","preventDefault","addVideo","updateVideo","fetchVideos","textAlign","user","username","logout","handleChange","deleteVideo","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {connect} from 'react-redux';\r\nimport {videos, auth} from \"./actions/index\";\r\n\r\n\r\nclass SelectPlaylist extends Component {\r\n  state = {\r\n    dropdownPlaylists: [],\r\n    selectedPlaylist: \"\",\r\n    validationError: \"\"\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(\"http://127.0.0.1:8000/api/playlists/\")\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        let playlistsFromApi = data.map(dropdownPlaylist => { return {value: dropdownPlaylist.name, display: dropdownPlaylist.name} })\r\n        this.setState({ dropdownPlaylists: [{value: '', display: '(Select the playlist)'}].concat(playlistsFromApi) });\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <select value={this.state.selectedPlaylist}\r\n                onChange={(e) => this.setState({selectedPlaylist: e.target.value, validationError: e.target.value === \"\" ? \"You must select the playlist\" : \"\"})}>\r\n          {this.state.dropdownPlaylists.map((dropdownPlaylist) => <option key={dropdownPlaylist.value} value={dropdownPlaylist.value}>{dropdownPlaylist.display}</option>)}\r\n        </select>\r\n        <div style={{color: 'red', marginTop: '5px'}}>\r\n          {this.state.validationError}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass Home extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchVideos();\r\n    }\r\n\r\n    state = {\r\n        name: \"\",\r\n        url: \"\",\r\n        playlist: \"\",\r\n        updateVideoId: null,\r\n    }\r\n\r\n    resetForm = () => {\r\n        this.setState({name: \"\", url: \"\", playlist: \"\", updateVideoId: null});\r\n    }\r\n\r\n    selectForEdit = (id) => {\r\n        let video = this.props.videos[id];\r\n        this.setState({name: video.name, url: video.url, playlist: video.playlist, updateVideoId: id});\r\n    }\r\n\r\n    submitVideo = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.updateVideoId === null) {\r\n            this.props.addVideo(this.state.name, this.state.url, this.state.playlist).then(this.resetForm)\r\n        } else {\r\n            this.props.updateVideo(this.state.updateVideoId, this.state.name, this.state.url, this.state.playlist).then(this.resetForm);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Welcome to AdmoVisual</h2>\r\n        <p>Use the tabs above to navigate to the section you wish to use.</p>\r\n\r\n        <p>In case of any issues, email us at help@admovisual.com.</p>\r\n\r\n\r\n        <div style={{textAlign: \"right\"}}>\r\n          {this.props.user.username} <a onClick={this.props.logout}>logout</a>\r\n        </div>\r\n\r\n        <h3>Add video</h3>\r\n            <form onSubmit={this.submitVideo}>\r\n                <input\r\n                    value={this.state.name}\r\n                    placeholder=\"Enter name here...\"\r\n                    onChange={(e) => this.setState({name: e.target.value})}\r\n                    required />\r\n                <input\r\n                    value={this.state.url}\r\n                    placeholder=\"Enter url here...\"\r\n                    onChange={(e) => this.setState({url: e.target.value})}\r\n                    required />\r\n                <input\r\n                    value={this.state.playlist}\r\n                    placeholder=\"Enter playlist ID here...\"\r\n                    onChange={(e) => this.setState({playlist: e.target.value})}\r\n                    required />\r\n               <select value={this.state.value} onChange={this.handleChange}\r\n               options>\r\n               </select>\r\n                <button onClick={this.resetForm}>Reset</button>\r\n                <input type=\"submit\" value=\"Save Video\" />\r\n            </form>\r\n\r\n\r\n            <h3>Videos</h3>\r\n            <table>\r\n              <tbody>\r\n                {this.props.videos.map((video, id) => (\r\n                  <tr key={`video_${video.id}`}>\r\n                    <td>{video.name}</td>\r\n                    <td>{video.url}</td>\r\n                    <td>{video.playlist}</td>\r\n                    <td><button onClick={() => this.selectForEdit(id)}>edit</button></td>\r\n                    <td><button onClick={() => this.props.deleteVideo(id)}>delete</button></td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    videos: state.videos,\r\n    user: state.auth.user,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    fetchVideos: () => {\r\n      dispatch(videos.fetchVideos());\r\n    },\r\n    addVideo: (name, url, playlist) => {\r\n      return dispatch(videos.addVideo(name, url, playlist));\r\n    },\r\n    updateVideo: (id, name, url, playlist) => {\r\n      return dispatch(videos.updateVideo(id, name, url, playlist));\r\n    },\r\n    deleteVideo: (id) => {\r\n      dispatch(videos.deleteVideo(id));\r\n    },\r\n    logout: () => dispatch(auth.logout()),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n\r\n"]},"metadata":{},"sourceType":"module"}